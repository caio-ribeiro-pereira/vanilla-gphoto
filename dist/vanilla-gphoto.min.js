!function(a,b){"function"==typeof define&&define.amd?define(b):a.VGPhoto=b()}(this,function(){var a=function(a){this.userId=a.userId||"",this.albumId=a.albumId||"",this.max=a.max||20,this.url=this.setUrl(a),this.album={}};return a.prototype.setUrl=function(){var a="https://picasaweb.google.com/data/feed/base";return a+="/user/"+this.userId+"/albumid/"+this.albumId,a+="?alt=json&kind=photo&access=public&max-results="+this.max},a.prototype.buildAlbum=function(a){for(var b={title:a.title.$t,subtitle:a.subtitle.$t,authors:[],photos:[]},c=0,d=a.author.length;d>c;c++)b.authors.push(a.author[c].name.$t);for(var e=0,f=a.entry.length;f>e;e++)b.photos.push({src:a.entry[e].content.src,type:a.entry[e].content.type,title:a.entry[e].title.$t});return this.album=b,b},{getAlbum:function(b,c){var d=new a(b),e=new XMLHttpRequest;e.open("GET",d.url,!0),e.onreadystatechange=function(){if(4===this.readyState){if(this.status>=200&&this.status<400){var a=JSON.parse(this.responseText).feed;return d.buildAlbum(a),c(null,d.album)}return c("The album can't be accessed.",null)}},e.send()}}});